Identifying External Vulnerability 
Zhao LIU 
1.  Introduction 
In economics, external vulnerability refers to susceptibility of an economy to outside shocks, like 
capital outflow. An economy that is externally vulnerable is prone to currency crisis or debt crisis. 
Because  of  the  grave  consequences  of  the  crisis,  Early Warning  Systems  (EWS)  have  been  built 
by central banks and research institution to predict the external vulnerability. 
In this project, we do not  follow the common practice of building the system with VAR.  Instead, 
we  explore  the  possibility  of  using  machine  learning  techniques  to  forecast  the  crisis  from 
macro-economic  variables.  Due  to  data  availability,  we  focus  only  on  the  Euro  Area  sovereign 
debt  crisis,  studying  OECD  countries.  Our  study  shows  that:  although  the  market  lacked 
awareness  to  the  crisis  before  its  outbreak,  signals  can  be  generated  to  give  strong  warning  to 
countries that later suffered heavily in the crisis.  
From  technical  view,  this  problem  is  also  highly  interesting,  because  (1)  unlike  most  other 
machine  learning applications, macro feature data is very scarce. Missing data point is common, 
and frequency is low. (2) unlike engineering application where labels are clear, macro trend may 
stay  latent  for many  years before breakout.  Euro Crisis  is especially  interesting: even when  first 
round of  crisis broke out  in peripherals, people  still  thought  that  Eurozone was  safe, until more 
than  one  year  later.  Therefore,  we  are  especially  interested  at  Oct-2009,  the  month  before 
Greece crisis outbreak. 

Figure 1: Sovereign CDS data sample 

5y Sov CDS: Crisis Group 1 

5y Sov CDS: Crisis Group 2 

2000

1500

1000

500

0

2000

1500

1000

500

0

5
0
-
v
o
N

6
7
6
0
0
0
-
-
-
y
y
v
a
a
o
M
M
N
ESTONIA

7
0
-
v
o
N

8
0
-
y
a
M

9
8
9
0
0
0
-
-
-
y
v
v
a
o
o
M
N
N
HUNGARY

0
1
-
y
a
M

0
1
-
v
o
N

1
2
1
1
1
1
-
-
-
y
y
v
a
a
o
M
M
N
ICELAND

5
0
-
v
o
N

6
0
-
y
a
M

7
6
0
0
-
-
y
v
a
o
M
N
GREECE

7
0
-
v
o
N

8
0
-
y
a
M

9
8
9
0
0
0
-
-
-
y
v
v
a
o
o
M
N
N
IRELAND

0
1
-
y
a
M

1
0
1
1
1
1
-
-
-
y
v
v
a
o
o
M
N
N
ITALY

2
1
-
y
a
M

MEXICO

POLAND

TURKEY

PORTUGAL

SPAIN

 

2.  Data and software package 
We  use  5  year  sovereign  credit  default  swap  (SovCDS)  as  a  quantitative  indicator  of  the  degree 
of crisis  for each country, downloaded  from Bloomberg,  sampled monthly. Higher  the CDS  rate, 

higher the risk of country default. Totally there are about twenty variables, available monthly or 
annually,  downloaded  from  EIU,  OECD  Stat,  and  World  Bank  database.  Explanatory  data  set 
differ  slightly  for  each  method  due  to  data  availability  on  different  frequency.  We  use  Matlab 
stats toolbox and OSU-SVM 3.0 for some functions.  

3.  Looking backward descriptive regression 
Before  trying  to  predict  the  crisis, we  start  from  a  simple  case. Given  our  current  knowledge  of 
the  crisis,  we  want  to  see  how  much  we  can  explain  from  2008  (pre-crisis)  data.  The  intuitive 
way  of  doing  this  is  to  regress  CDS  data  on  macro  variables.  However,  we  found  this  process 
frustrating  because  of  nonlinear  relationships.  To  avoid  this,  we  put  labels  on  the  six  countries 
that suffered most in the crisis, and run logistic regression.  
Because  of  severe  missing  data,  multi-variable  regression  can  only  work  in  very  small  samples. 
Therefore,  we  used  single  variable  logit  regression  for  each  variable  and  combine  the  results. 
Table  1  shows  the  result  of  calculating  average  fitted  value  from  leave  one  out  test.  It  shows 
that  looking  backward,  we  can  identify most  of  the  crisis  countries  (with  high  false  alarm  rate) 
except Italy. This serves as a baseline for our prediction attempts below. 
Table 1.Identifying crisis country using logit regression and ex post knowledge 

  

Mean 
 

I
C
E
L
A
N
D
 

G
R
E
E
C
E
 

A
U
S
T
R
A
L
I
A
 

I
R
E
L
A
N
D
 

U
K
I
N
N
I
G
T
E
D
D
O
 
M
 

S
P
A
I
N
 

J
A
P
A
N
 

E
S
T
O
N
I
A
 

0.5  0.35  0.34  0.33  0.31  0.23  0.22  0.21 

F
R
A
N
C
E
 

S
U
T
N
A
I
T
T
E
E
D
S
 
 

N
Z
E
E
A
W
L
 
A
N
D
 

P
O
R
T
U
G
A
L
 
0.2  0.19  0.16  0.16  0.15  0.14  0.13  0.12  0.12 

S
L
O
V
E
N
I
A
 

H
U
N
G
A
R
Y
 

B
E
L
G
I
U
M
 

S
L
O
V
A
K
I
A
 

A
U
S
T
R
I
A
 

N
A
N
E
T
D
H
S
E
 
R
L

T
U
R
K
E
Y
 

K
R
O
E
P
R
.
E
 
O
A
F
,
 
 

F
I
N
L
A
N
D
 

C
A
N
A
D
A
 

Y
G
 
E
R
M
A
N

P
O
L
A
N
D
 

S
W
E
D
E
N
 

N
O
R
W
A
Y
 

Mean 

0.12 

0.12  0.12  0.11  0.11  0.11  0.11  0.11  0.11 

R
C
E
Z
E
P
C
U
H
B
 
L
I
C
 
0.1 

D
E
N
M
A
R
K
 
0.1 

I
T
A
L
Y
 

S
L
A
W
N
I
T
D
Z
 
E
R

I
S
R
A
E
L
 

L
U
U
R
X
G
E
 
M
B
O

C
H
I
L
E
 

M
E
X
I
C
O
 

0.1 

0.1 

0.1  0.08  0.07  0.06 

4.  Leave one out SVM fitting 
Starting  from  this  section,  we  will  run  backtesting  and  use  only  information  up  to  the  date  of 
concern  (e.g.,  in  2008, we  do  not  know  Greece will  enter  crisis).  Every month, we  use  k-means 
clustering  to  separate CDS  into  two groups, and  label  the upper  group as  ‘risky’. Because  in  the 
previous  test,  we  found  SVM  to  be  more  robust  than  the  logit  regression,  and  since  we  are 
working  on  data  separation,  we  use  leave  one  out  SVM  to  train  and  test  the  data.  If  a  country 
labeled  ‘safe’ was  found  to be  risky by  SVM, we will  count  it as a warning  (normally  called  false 
alarm).  We  found  that  counting  number  of  warning  is  an  effective  way  of  identifying  risky 
countries: 
Table 2. Cumulative warning signals by Oct-2009, LOO-SVM 
 

Fitting 
(Safe) 

Sum 

Fitting 
(Crisis) 

Missing 
  Warning 
Warning 
35 
5 
5 
21 
4 
MEXICO 
35 
3 
0 
0 
32 
GREECE 
22 
3 
1 
0 
18 
IRELAND 
35 
3 
13 
17 
2 
HUNGARY 
35 
2 
0 
0 
33 
ITALY 
35 
0 
0 
33 
2 
POLAND 
35 
2 
0 
0 
33 
PORTUGAL 
35 
4 
1 
29 
1 
KOREA 
14 
0 
0 
13 
1 
NETHERLANDS 
35 
1 
0 
0 
34 
SPAIN 
14 
0 
0 
14 
0 
AUSTRALIA 
… 
0 
0 
… 
0 
… 
Table 2 shows  the cumulative number of warnings by Oct-2009, outbreak of Greece crisis.  If we 
ignore  the  countries  that  have  already  suffered  crisis  (like  Mexico,  characterized  by  missing 
warnings and fitted crisis), the five Eurozone crisis countries almost occupied the top block. 
This method seems encouraging, but there  is an  issue with  it. The signal  is so scarce that people 
will doubt  that  it  is  temporary noise.  The  reason  is  that  labels are misleading. According  to CDS 
data,  before  Oct-2009,  these  five  countries  are  considered  relatively  safe.  Such  information  is 
trained into the model, so that the model tends to indicate the countries to be safe. 

5.  Long term early prediction using clustering 
The first reaction to the above mentioned problem is to use only data from risky countries (and 
some countries hand-picked to be safe) and run the LOO-SVM. This failed because the training 
set is too small. The second answer is to use unsupervised learning. However, crisis countries do 
not form a well separated cluster. However, combining these two threads, we developed a 
method that provides reasonable score for the countries’ risk. 
We ran k-means clustering, overlaying it with the current crisis information. We first find the 
largest number of clusters so that ALL crisis countries fall in the same cluster. The cluster 
containing all risk countries is dubbed as “Max group”. If a “safe” country fall into “Max group”, 
it has a good match for the risky cluster. We then find the smallest number of clusters so that 
EVERY crisis country falls into different cluster. The clusters containing risky countries are 
dubbed as “Min group”. If a “safe” country falls in to “Min group”, it has high similarity to a 
certain crisis countries. If a “safe” country falls into both groups, then we count it as a risky 
signal. We count the cumulative number of signals for each country as the indicator of the risk.  

30
25
20
15
10
5
0

Number of Countries in
Crisis
Number of countries in "Max
Group"
Number of countries in "Min
Group"

 

F
R
A
N
C
E
 

P
O
L
A
N
D
 

S
L
O
V
A
K
I
A
 

I
T
A
L
Y
 

I
S
R
A
E
L
 

P
O
R
T
U
G
A
L
 

S
P
A
I
N
 

A
U
S
T
R
A
L
I
A
 

I
R
E
L
A
N
D
 

N
E
W
Z
E
A
L
A
N
D
 

S
L
O
V
E
N
I
A
 

C
Z
E
C
H
 

D
E
N
M
A
R
K
 

B
E
L
G
I
U
M
 

U
K
 

U
S
 

A
U
S
T
R
I
A
 

N
E
T
H
E
R
L
A
N
D
S
 

G
R
E
E
C
E
 

 
Cumulative 
Indicator 
By Oct-09 

Historical 
Average 
CDS 

24  24  24  18  17  17  17  16 

16 

16  16  15  15  14  13  13  11  11 

8 

15.6  78.7  46.8  44.7  77.4  33.9  35.0  74.7  127.7  61.5  68.3  59.8  64.7  25.2  76.0  23.8  46.3  55.2  62.5 

This  method  proved  to  be  effective,  except  for  Greece.  Other  countries  on  top  of  the  list  may 
not  be  false  alarm.  Poland  and  Israel  already  have  CDS  above  peers,  and  Slovakia  later 
experienced  CDS  hike.  Up  to  today,  there  are  discussions  on whether  France  will  be  hit  next  in 
the Euro Crisis. 
The  drawback of  this method  is  that  there  is no  clear  cut between  risky and  safe. Risk  Indicator 
goes down smoothly in the table. The next method will provide a clearer signal in the near term. 

6.  Quickly responsive prediction using dynamic model selection and 
aggregation 
Once market  sentiment  change  (for  example, worries  about  debt  level), we  want  to  capture  it, 
and  identify  all  countries  that  may  be  considered  risky  with  such  sentiment.  This  family  of 
method  does  not  provide  long  term  identification  of  external  vulnerability;  instead,  it  works 
right  after  the  crisis  outbreak,  helping  you  to  identify who will  be  hit  next.  Therefore,  it  can  be 
separated into two parts: identifying the sentiment, and rate the country. 
Multi-variable  regression  suffers  from  multi-colinearity,  which  makes  coefficients  notoriously 
unreliable.  Single  regression,  however,  suffers  severe  bias.  As  a  tradeoff,  we  use  models  with 
two  explanatory  variables.  Since  we  don’t  know  which  model  to  choose,  we  maintain  a  large 
pool  of  models  (10  explanatory  variables  yields  45  models),  and  select  them  dynamically  using 
p-value  (perfect  separation  is  considered  p-value  of  0). We  select  the  better  half  of  the models 

at each  time, use significance  to generate weights, and aggregate  their predictions according  to 
the weights. 
The  result  is encouraging.  In Oct-2009, besides of  the expected  spike of Greece and  Iceland, we 
found they are followed by Ireland, Spain, and Portugal. Comparing this to Figure 1, the warning 
signal is given 6 months or 1 year earlier than the crisis in these countries. 
1

Oct-09: 
Greece 
(lead) 
Ireland 
Spain 
Portugal 
 

0.9

0.8

0.7

0.6

0.5

0.4

0.3

0.2

0.1

0

5
0
-
v
o
N

6
0
-
r
a
M

6
0
-
l
u
J

6
0
-
v
o
N

7
0
-
r
a
M

7
0
-
l
u
J

7
0
-
v
o
N

8
0
-
r
a
M

8
0
-
l
u
J

8
0
-
v
o
N

9
0
-
r
a
M

9
0
-
l
u
J

9
0
-
v
o
N

0
1
-
r
a
M

0
1
-
l
u
J

0
1
-
v
o
N

1
1
-
r
a
M

1
1
-
l
u
J

1
1
-
v
o
N

2
1
-
r
a
M

2
1
-
l
u
J

AUSTRALIA
AUSTRIA
BELGIUM
CHILE
CZECH
DENMARK
ESTONIA
FINLAND
FRANCE
GERMANY
GREECE
HUNGARY
ICELAND
IRELAND
ISRAEL
ITALY
JAPAN
KOREA
MEXICO
NETHERLANDS
NEWZEALAND
NORWAY
POLAND
PORTUGAL
SLOVAKIA
SLOVENIA
SPAIN
SWEDEN
TURKEY
UK
US

 

7.  Summary and future work 
Our  work  proved  the  potential  of  using  machine  learning  to  study  macro  features  in  order  to 
deliver  early  warning  signals  for  future  crisis.  Comparing  to  the  mainstream  VAR  based 
economic  forecasting  models,  our  method  requires  least  human  input  for  model  selection. 
Outdated  model  selection  by  hands  for  economic  prediction  may  cause  under-reaction  to  new 
changes. Fully automatic learning system would be useful in overcoming this problem. 
For  future  work,  dynamic  model  selection  has  the  potential  of  improvement  by  introducing 
memories  to  the model. A model with memory has higher  resistance  to noise, and also possibly 
more  responsive  to  certain  structure  changes.  We  implement  some  designs  of  model  memory 
without  observing  significant  improvement,  but  it  is  an  interesting  topic  to  work  on.  Also,  if 
implemented with more historical data, our system has the potential of expanding into a fullsize 
early warning system for both Emerging markets and OECD, covering different kinds of crisis. 

8.  Reference 
Debt- and Reserve-Related Indicators of External Vulnerability, International Monetary Fund, 
http://www.imf.org/external/np/pdr/debtres/index.htm  

